<!doctype html><html lang=ru-ru><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content="Алексей Жидков"><meta name=description content="https://azhidkov.pro/"><meta property="og:site_name" content="Алексей Жидков"><meta property="og:title" content="Черновик: Диаграмма Эффектов v0.0.1 - Алексей Жидков"><meta property="og:description" content><meta property="og:type" content="website"><meta property="og:url" content="https://azhidkov.pro/drafts/aggregates/effects-diagram/"><meta property="og:image" content="https://azhidkov.pro/"><meta name=twitter:card content="summary"><meta name=twitter:site content="https://azhidkov.pro/drafts/aggregates/effects-diagram/"><meta name=twitter:image content="https://azhidkov.pro/"><base href=https://azhidkov.pro/drafts/aggregates/effects-diagram/><title>Черновик: Диаграмма Эффектов v0.0.1 - Алексей Жидков</title><link rel=canonical href=https://azhidkov.pro/drafts/aggregates/effects-diagram/><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700"><link rel=stylesheet href=/css/normalize.min.css><link rel=stylesheet href=/css/style.min.css><link rel=stylesheet href=https://use.fontawesome.com/releases/v5.2.0/css/all.css><link rel=stylesheet href=https://azhidkov.pro/css/custom.css><link rel=stylesheet href=https://azhidkov.pro/css/github.css><link rel=stylesheet href=https://azhidkov.pro/css/JetBrains-Mono.css><link rel=icon type=image/png href=/images/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/images/favicon-16x16.png sizes=16x16><link rel=alternate href=https://azhidkov.pro/index.xml type=application/rss+xml title="Алексей Жидков"><link href=https://azhidkov.pro/index.xml rel=feed type=application/rss+xml title="Алексей Жидков"><meta name=generator content="Hugo 0.80.0"></head><body><main class=wrapper><link rel=apple-touch-icon sizes=180x180 href=apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=https://azhidkov.pro/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=https://azhidkov.pro/favicon-16x16.png><link rel=manifest href=site.webmanifest><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#da532c"><meta name=theme-color content="#ffffff"><link href="https://fonts.googleapis.com/css?family=Roboto" rel=stylesheet type=text/css><nav class=navigation><section class=container style=height:100%><img src=https://azhidkov.pro/images/logo.svg class=logo>
<a class=navigation-title href=/>Алексей Жидков</a>
<input type=checkbox id=menu-control>
<label class="menu-mobile float-right" for=menu-control><span class="btn-mobile float-right">&#9776;</span><ul class=navigation-list><li class="navigation-item align-left"><a class=navigation-link href=https://azhidkov.pro/ergo-approach/landing>Эргономичный подход</a></li><li class="navigation-item align-left"><a class=navigation-link href=https://azhidkov.pro/effects-diagram/landing>Диаграмма Эффектов</a></li><li class="navigation-item align-left"><a class=navigation-link href=https://azhidkov.pro/posts>Блог</a></li><li class="navigation-item align-left"><a class=navigation-link href=https://azhidkov.pro/portfolio>Портфолио</a></li><li class="navigation-item align-left"><a class=navigation-link href=https://azhidkov.pro/>Контакты</a></li><li class=mobile-menu-lang-separator-full><hr></li></ul></label></section></nav><div class=content><section class="container page"><article><header><h1>Черновик: Диаграмма Эффектов v0.0.1</h1></header><section class="doc-section level-1"><h2 id=_введение>Введение</h2><p>Сейчас самым распространённым способом декомпозиции ПО является декомпозиция по техническим аспектам - сервисы, сущности, исключения и т.п.
И хотя многие известные и авторитетные авторы - такие как Константин, Парнас, Эванс и Мартин - критикуют такой способ декомпозиции, никто из них не даёт альтернативной практической методики.</p><p>Я потратил несколько лет на поиски готового способа декомпозиции, отличного от декомпозиции по техническим аспектам.
Однако ничего не нашёл и потратил ещё два года на разработку собственного.
Мой подход базируется на понятии эффекта - взаимодействии операции с состоянием системы.
По этому подходу необходимо стремиться к такой декомпозиции системы, чтобы операции взаимодействовали только с состоянием своего модуля.</p><p>(<mark>todo: ООД</mark>)</p><p>(<mark>todo: почему эффектов?</mark>)</p><p>Для этого система в целом представляется графом, вершинами которого являются операции и данные, а рёбрами - обращение операций к данным.
А декомпозируется система посредством разбиения этого графа на подграфы, связанные минимальным количеством рёбер</p><p>Уже после того, как у меня появились первые собственные результаты, я случайно наткнулся на очень похожий по сути подход, описанный в <a href=https://www.researchgate.net/publication/283566310_Improving_Design_Decomposition>Improving Design Decomposition</a> и <a href=https://www.researchgate.net/publication/326260296_Functional_Decomposition_for_Software_Architecture_Evolution>Functional Decomposition for Software Architecture Evolution</a>.</p><p>Однако этот подход фокусируется строго на реляционных СУБД и в качестве узлов использует отдельные колонки таблиц.
На мой взгляд это делает подход не практичным - сейчас редко встречаются системы, которые взаимодействуют только с РСУБД, и любая реальная система будет иметь как минимум десятки колонок (с которыми будет очень сложно управляться).</p><p>Мой же подход использует универсальное понятие ресурса, который может быть как отдельной колонкой таблицы, так и облачным файловым хранилищем.
Кроме того, у меня в графе есть узлы событий, что на мой взгляд, позволяет увидеть целостную картину - от публичного API системы, до механизмов реализации функций системы.</p></section><section class="doc-section level-1"><h2 id=_алгоритм_построения>Алгоритм построения</h2></section><section class="doc-section level-1"><h2 id=_применение>Применение</h2><p>Я разработал и сейчас применяю диаграмму эффектов как основной инструмент декомпозиции системы на модули.
На первом этапе я переношу сущности ER-диаграммы на диаграмму эффектов в качестве ресурсов.
Затем информацию о том, какие сущности модифицируются какими операциями я использую как один из параметров процесса проектирования агрегатов - сущности которые всегда модифицируются вместе являются кандидатом на агрегат, операции, которые меняют сущности входящие в разные агрегаты являются кандидатом на перепроектирование.</p><p>Получив диаграмму эффектов с агрегатами в качестве ресурсов, я строю декомпозицию системы на модули таким образом, чтобы:</p><div class="olist arabic"><ol class=arabic><li>Операции, изменяющие ресурс и сам ресурс были в одном модуле</li><li>Операции обращались только к ресурсам из того же модуля</li></ol></div><p>100%-ое достижение этих свойств редко возможно, поэтому я допускаю их нарушение, если это делает дизайн более "разумным" на мой субъективный взгляд.</p></section><section class="doc-section level-1"><h2 id=_заключение>Заключение</h2></section></article></section></div></main><script src=/js/app.js></script></body></html>